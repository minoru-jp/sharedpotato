# sharedpotato

> 📝 このファイルは sharedpotato の日本語版 README（`README.ja.md`）です。

**Python用 非同期共有オブジェクト管理ユーティリティ（試作中）**

`sharedpotato` は、非同期プログラミングにおける共有状態の安全な管理を目的とした Python ライブラリです。
**現在は開発途上であり、習作的な位置付けでもあります。**動作検証や設計の公開、フィードバックを目的に未完成の状態で公開しています。

## 📦 含まれているモジュール

現時点でこのリポジトリに含まれているのは、以下の2つのモジュールです。

### 1. `asyncvlog.py`

非同期プログラム内のオブジェクトの生成・呼び出し・ロック制御などの重要イベントを詳細に記録する軽量なログ補助モジュールです。
主にデバッグやトレーシング用途を想定しています。

使用例:

```python
vlog_on_instance_created(self, "object created")
vlog_on_called(self, "method_name")
```

### 2. `sharedobj.py`

コルーチン間で1つの値を安全に共有・制御するための `AsyncSharedObject` を提供します。主な特徴は以下の通りです：

* 権限別のアクセサ（Getter / Setter / Deleter など）を明示的に提供することで、責任の分離と使用意図の明確化を図っています。

* クローズ時のハンドラ登録・実行

* 特定の状況下におけるロックを使わないアクセサの提供

* 初期化待ちのためのイベント同期（遅延初期化にも対応）

* タイムアウト制御

* `async with` による自動クローズ

内部では `asyncvlog.py` による詳細な動作ログも記録可能です。

## 🧪 補足情報

このライブラリは ChatGPT を活用して設計・実装されており、開発の様子は Twitch にて配信しています。興味のある方はぜひご覧ください。
配信チャンネル： [https://www.twitch.tv/minoru\_jp](https://www.twitch.tv/minoru_jp)

## ⚠️ 現在の状態

このプロジェクトは**実験段階**であり、APIは今後大きく変更される可能性があります。
現時点では以下の点にご注意ください：

* ドキュメントは最小限です
* ユニットテストは未整備または未実装です
* 一部設計やファイル構成が変更される可能性があります

開発公開の目的は以下の通りです：

* 設計・進捗の可視化
* 興味のあるユーザーとの共有・実験
* フィードバックや協力の促進

## 📌 今後の予定

* コード中のコメントやドキュメンテーションの充実
* 他の共有オブジェクト型（セット、キューなど）への対応
* テストと使用例の整備
* 利用状況の可視化やフック機構の追加

## 🛠️ 動作環境

* Python 3.10 以降
* 外部ライブラリ不要（標準ライブラリのみで動作）

## 📄 ライセンス

このライブラリは MIT ライセンスのもとで公開されています。詳細は [LICENSE](./LICENSE) を参照してください。

---

© 2025 minoru\_jp
